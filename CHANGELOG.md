# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

## 0.17.1 - 2022-08-27

* Restore missing balena finalize job [Kyle Harding]

## 0.17.0 - 2022-08-27

* Rename push balena to publish balena to align with other types [Kyle Harding]
* Remove required status checks input [Kyle Harding]
* Rename draft jobs to publish [Kyle Harding]
* Only run docker publish if project type includes docker [Kyle Harding]
* Remove resinCI config [Kyle Harding]

## 0.16.5 - 2022-08-26

* patch: Fix typo in custom action detection [Kyle Harding]

## 0.16.4 - 2022-08-26

* Add cool logo [Phil Wilson]

## 0.16.3 - 2022-08-26

* Catch errors when custom actions are not found [Kyle Harding]
* Add required inputs to custom composite actions [Kyle Harding]

## 0.16.2 - 2022-08-26

* Add composite workflow support [Kyle Harding]

## 0.16.1 - 2022-08-26

* Fix tagging of draft docker images [Kyle Harding]

## 0.16.0 - 2022-08-26

* Rename versioned source to package source [Kyle Harding]
* Split docker publish steps into draft and finalize [Kyle Harding]
* Fix protect branch conditions to always run [Kyle Harding]
* Separate npm draft and finalize steps [Kyle Harding]
* Remove balena all job and just check on balena push [Kyle Harding]
* Add a check results job to check the results of all other jobs [Kyle Harding]

## 0.15.4 - 2022-08-26

* Always run protect branch job and check for overall failure [Kyle Harding]

## 0.15.3 - 2022-08-25

* Require a change-type for pull requests [Kyle Harding]

## 0.15.2 - 2022-08-25

* Fix parsing of the changelog when repo type is not node [Kyle Harding]

## 0.15.1 - 2022-08-25

* Fix input parsing when multiple docker images are provided [Kyle Harding]

## 0.15.0 - 2022-08-25

* Combine ghcr and dockerhub image lists into one [Kyle Harding]

## 0.14.2 - 2022-08-25

* Set required approvals back to 1 for flowzone [Kyle Harding]

## 0.14.1 - 2022-08-25

* Add example of configuring input to usage [Anuj Deshpande]

## 0.14.0 - 2022-08-24

* Fix behaviour of the npm private flag [Kyle Harding]
* Set repo type to node if package.json is detected [Kyle Harding]
* Rename docker credential secrets to be specific to DockerHub [Kyle Harding]
* Only push one balenaCloud release by default [Kyle Harding]
* Enable dockerhub artifacts by default [Kyle Harding]
* Fix anchor links in readme [Kyle Harding]

## 0.13.4 - 2022-08-24

* Force tagging because the previous commit must not have merged [Kyle Harding]

## 0.13.3 - 2022-08-24

* Replace BALENA_API_KEY_PUSH secret with BALENA_API_KEY [Kyle Harding]

## 0.13.2 - 2022-08-24

* Allow PRs without a change type to publish draft releases [Kyle Harding]

## 0.13.1 - 2022-08-24

* Describe secrets and inputs with headings instead of a table [Kyle Harding]

## 0.13.0 - 2022-08-24

* BREAKING: Switch to comma-delimited strings for inputs [Kyle Harding]
* Allow configuring of additional required status checks [Kyle Harding]

## 0.12.8 - 2022-08-24

* Create a symlink to balena.yml so it can be versioned [Kyle Harding]

## 0.12.7 - 2022-08-24

* Extract the new version from the changelog [Kyle Harding]

## 0.12.6 - 2022-08-24

* Do not include the v prefix on versioned docker tags [Kyle Harding]

## 0.12.5 - 2022-08-24

* Remove docker cache from input and use latest and edge tags [Kyle Harding]

## 0.12.4 - 2022-08-24

* Only run protect branch on pull request events [Kyle Harding]

## 0.12.3 - 2022-08-23

* Restore protect branch input that was removed by mistake [Kyle Harding]

## 0.12.2 - 2022-08-23

* Protect branch depends on all other jobs but allows skipped jobs [Kyle Harding]

## 0.12.1 - 2022-08-23

* Fix missing dependency on versioned source for docker publish [Kyle Harding]

## 0.12.0 - 2022-08-23

* Merge docker draft and docker finalize jobs [Kyle Harding]

## 0.11.0 - 2022-08-23

* Combine npm draft and npm final steps [Kyle Harding]
* Increase logging of npm publish commands [Kyle Harding]

## 0.10.1 - 2022-08-23

* Enable shell tracing across all jobs [Kyle Harding]
* Combine docker merge and tagged steps [Kyle Harding]

## 0.10.0 - 2022-08-23

* patch: Require full fetch depth for versionist [Kyle Harding]
* Fix typo in versioned source outputs [Kyle Harding]
* Skip extra versioning on npm merge [Kyle Harding]
* Combine version draft and tag jobs [Kyle Harding]
* Automatically determine max version applied by versionist [Kyle Harding]

## 0.9.1 - 2022-08-23

* Use skip_versioning flag to determine whether source is versioned [Kyle Harding]
* Determine the highest version in all versioned files [Kyle Harding]

## 0.9.0 - 2022-08-23

* Do versioning on the PR branch using balena-versionist. [Carlo Miguel F. Cruz]

## 0.8.3 - 2022-08-23

* Rename NPM to npm to match the official product name [Kyle Harding]

## 0.8.2 - 2022-08-23

* version_draft: Prefer version in package.json over VERSION file [Kyle Harding]

## 0.8.1 - 2022-08-22

* npm_merge: Download versioned source from previous workflow run [Kyle Harding]
* npm_merge: Get version from version_merge job [Kyle Harding]

## 0.8.0 - 2022-08-22

* Node npm package publishing [ab77]

# v0.7.0
## (2022-08-19)

* Run versionist if versiobot branch for PR does not exist. [Carlo Miguel F. Cruz]

# v0.6.12
## (2022-08-15)

* Hardcode the edge tag when merging without versionbot [Kyle Harding]
* Ensure NPM merge and tag only runs when npm sources are found [Kyle Harding]

# v0.6.11
## (2022-08-15)

* patch: Only extract version info if author is versionbot [Kyle Harding]

# v0.6.10
## (2022-08-15)

* Add optional secret for the ghcr.io token [Kyle Harding]
* Set ghcr.io username to flowzone [Kyle Harding]

# v0.6.9
## (2022-08-15)

* Move migration steps to a generic Getting Started section [Kyle Harding]
* Demonstrate that secrets can only be inherited in some cases [Kyle Harding]

# v0.6.8
## (2022-08-15)

* Generate Docker edge tags for merges without versionbot [Kyle Harding]
* patch: Remove unecessary versionbot check from balena_merge [Kyle Harding]
* patch: Remove prefix restrictions from tags trigger [Kyle Harding]

# v0.6.7
## (2022-08-15)

* patch: Fix inputs example in readme [Kyle Harding]

# v0.6.6
## (2022-08-15)

* Assert that versioned source is up-to-date [Kyle Harding]

# v0.6.5
## (2022-08-15)

* Fix protect branch run conditions [Kyle Harding]

# v0.6.4
## (2022-08-15)

* Refactor job dependencies [Kyle Harding]
* Rename source and context checks [Kyle Harding]

# v0.6.3
## (2022-08-14)

* patch: Fix check for tag events [Kyle Harding]

# v0.6.2
## (2022-08-14)

* Enable tag events for this repo only [Kyle Harding]

# v0.6.1
## (2022-08-14)

* patch: Fix check for versionbot author [Kyle Harding]

# v0.6.0
## (2022-08-14)

* Refactor the ghcr.io and docker.io deploy steps [Kyle Harding]
* Finalize balena releases on non-versionbot tags [Kyle Harding]
* patch: Rename jobs with project type prefix [Kyle Harding]
* patch: Group jobs by project type, not events [Kyle Harding]

# v0.5.5
## (2022-08-14)

* Only finalize artifacts on merge if versionbot is in use [Kyle Harding]
* Make some project-specific secrets optional [Kyle Harding]

# v0.5.4
## (2022-08-14)

* Update documentation for the supported project types [Kyle Harding]

# v0.5.3
## (2022-08-13)

* Add placeholder for NPM finalize [Kyle Harding]
* patch: Update maintenance section of readme [Kyle Harding]

# v0.5.2
## (2022-08-13)

* Create LICENSE [Kyle Harding]

# v0.5.1
## (2022-08-13)

* Document required secrets in readme [Kyle Harding]

# v0.5.0
## (2022-08-13)

* Refactor docker repositories into just ghcr.io and docker.io [Kyle Harding]
* Rename some jobs to reflect draft vs final [Kyle Harding]

# v0.4.11
## (2022-08-12)

* patch: Finalize balena releases on merge [Kyle Harding]

# v0.4.10
## (2022-08-12)

* Always run sanitize inputs and eval sources [Kyle Harding]
* Login to container registries for finalize [Kyle Harding]

# v0.4.9
## (2022-08-12)

* Login to container registries for finalize [Kyle Harding]

# v0.4.8
## (2022-08-12)

* Finalize docker images on merge events [Kyle Harding]

# v0.4.7
## (2022-08-12)

* Create a patch from the versioned commit and apply to main [Kyle Harding]
* Use last commmit from head of the PR branch for artifact tags [Kyle Harding]
* patch: Use base sha when checking out main branch for versioned cherry-pick [Kyle Harding]
* patch: Use tip of pull request branch to name artifacts [Kyle Harding]
* patch: Re-upload the versioned source artifact under a versioned name [Kyle Harding]
* Append git sha to versioned source artifact name [Kyle Harding]

# v0.4.6
## (2022-08-11)

* Push multiple architecture-specific balena releases by default [Kyle Harding]

# v0.4.5
## (2022-08-11)

* Create docker manifest after individual platforms [Kyle Harding]

# v0.4.4
## (2022-08-11)

* Avoid applying updated branch protections until all the jobs have passed [Kyle Harding]

# v0.4.3
## (2022-08-11)

* Split versioned source job into 3 smaller jobs [Kyle Harding]

# v0.4.2
## (2022-08-10)

* patch: Update examples in readme [Kyle Harding]

# v0.4.1
## (2022-08-10)

* Split node and docker jobs into matrices [Kyle Harding]
* Cherry-pick the versioned commit to main so we can gpg-sign [Kyle Harding]
* Rebase versioned source before pushing to main [Kyle Harding]

# v0.4.0
## (2022-08-10)

* Cherry-pick the versioned commit to main so we can gpg-sign [Kyle Harding]
* Rebase versioned source before pushing to main [Kyle Harding]
* Fix versioned source extraction on merge [Kyle Harding]
* Tar versioned source before upload to maintain permissions [Kyle Harding]
* Use versioned source artifacts downstream jobs [Kyle Harding]
* Add versioned source flow to merge versionbot commit to main [Kyle Harding]

# v0.3.0
## (2022-08-10)

* Merge docker composite steps into flowzone workflow [Kyle Harding]
* Merge NPM composite steps into flowzone workflow [Kyle Harding]
* Merge branch protection composite steps into flowzone workflow [Kyle Harding]
* Merge versionist composite steps into flowzone workflow [Kyle Harding]

# v0.2.0
## (2022-08-10)

* Add deploy to balena flow [Kyle Harding]

# v0.1.6
## (2022-08-10)

* Remove branch protection rules from migration workflow [Kyle Harding]

# v0.1.5
## (2022-08-10)

* Apply branch protection rules on PR events [Kyle Harding]

# v0.1.4
## (2022-08-09)

* patch: generate new GPG key (balena-ci) [ab77]

# v0.1.3
## (2022-08-09)

* patch: correct secrets/inputs [ab77]
* patch: correct inputs [ab77]
* Checkout prior to running actions [ab77]
* patch: configurable required_approving_review_count [ab77]

# v0.1.2
## (2022-08-09)

* patch: Rename versionist action [Kyle Harding]
* patch: Remove references to versionbot [Kyle Harding]

# v0.1.1
## (2022-08-09)

* patch: Change the versionbot author to Flowzone [Kyle Harding]

# v0.1.0
## (2022-08-09)

* Extend docker flow to support multiarch and pushing to registries [Kyle Harding]

# v0.0.5
## (2022-08-09)

* Require Flowzone tests [ab77]

# v0.0.4
## (2022-08-09)

* Update example workflows [Kyle Harding]

# v0.0.3
## (2022-08-09)

* Add resinCI migration instructions [ab77]

# v0.0.2
## (2022-08-09)

* Run versionist steps manually [Kyle Harding]
* patch: Checkout source before calling local composite actions [Kyle Harding]
* patch: Fix conditions for running versionbot [Kyle Harding]
* patch: Run versionbot on push to main branch [Kyle Harding]
* patch: Set versionbot to checkout the base_ref [Kyle Harding]
* patch: Set versionbot to checkout the base_ref [Kyle Harding]
